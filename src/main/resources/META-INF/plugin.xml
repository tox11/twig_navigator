<idea-plugin>
    <id>com.twig5.navigator</id>
    <name>Twig Navigator</name>
    <version>1.0.2</version>
    <vendor email="anatolii.y.plugin@gmail.com">Anatolii Y</vendor>
    <!-- Compatible with recent PhpStorm versions -->
    <idea-version since-build="241" until-build="253.*" />
    <description>
        <![CDATA[
        Provides navigation between Twig templates and PHP files in PHP frameworks like Symfony, CodeIgniter.
        Supports template path resolution in PHP methods (render, display, etc.) and Twig tags.
        ]]>
    </description>
    <change-notes>
        <![CDATA[
        <h3>1.0.2 - Major Update</h3>
        <ul>
            <li>new icons</li>
        </ul>
        ]]>
    </change-notes>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.jetbrains.php</depends>
    <depends>com.jetbrains.twig</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Application-level services -->
        <applicationService serviceImplementation="com.twig5.settings.AppSettingsState"/>
        
        <!-- Project-level services -->
        <projectService serviceImplementation="com.twig5.settings.TwigSettingsState"/>

        <!-- Reference providers -->
        <psi.referenceContributor language="PHP"
                                implementation="com.twig5.references.PhpTemplatePathReferenceContributor"/>
        <psi.referenceContributor language="Twig"
                                implementation="com.twig5.references.TwigTemplateReferenceContributor"/>

        <!-- Goto declaration handler for Twig -->
        <gotoDeclarationHandler implementation="com.twig5.references.TwigGotoDeclarationHandler"/>

        <!-- Register project open activity -->
        <postStartupActivity implementation="com.twig5.listeners.ProjectOpenActivity"/>

        <!-- Settings UI -->
        <projectConfigurable
                parentId="tools"
                instance="com.twig5.settings.TwigSettingsConfigurable"
                id="com.twig5.settings.TwigSettingsConfigurable"
                displayName="Twig Navigator"/>
    </extensions>

    <actions>
        <action id="TwigNavigator.OpenSettings"
                class="com.twig5.actions.OpenSettingsAction"
                text="Twig Navigator Settings..."
                description="Open the settings for the Twig Navigator plugin">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
    
</idea-plugin>